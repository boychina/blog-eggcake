---
title: "ECMAScript2017新特性总结及使用场景"
excerpt: "ECMAScript 2017 (ES8) new features summary and usage scenarios"
date: "2020-07-18T12:00:00.322Z"
coverImage: "/assets/blog/cover/2020-07-18-ECMAScript2017-ES8.jpg"
author:
  name: 淡烘糕
  picture: "/assets/blog/authors/zhaohuan.jpg"
ogImage:
  url: "/assets/blog/cover/2020-07-18-ECMAScript2017-ES8.jpg"
---

> ES8主要新增了async&await；

## 1. async函数

1. async 函数的返回值为 Promise 对象；
1. Promise 对象的结果由 async 函数执行的返回值决定；
```javascript
// 返回一个字符串；返回的结果不是一个 Promise 类型的对象，返回的结果就是成功的 Promise 对象
async function fn() {
  return 'Hello World!';
}
const result = fn();
console.log(result); // Promise {<resolved>: "Hello World!"}

// 抛出错误，返回的结果是一个失败的 Promise 对象
// 注：返回 Error 对象，结果也是成功的 Promise 对象
async function fn() {
  throw new Error('错处啦！');
}
const result = fn();
console.log(result); // Promise {<rejected>: Error: 错处啦！at fn (<anonymous>:2:9) at <anonymous>:4:16}

// 返回的结果如果是一个 Promise 对象
async function fn() {
  return new Promise((resolve, reject) => {
  	// resolve('成功的数据');
    reject("失败的错误！");
  })
}
const result = fn();
console.log(result); // Promise {<pending>}

result.then(value => { 
  console.log(value); // 成功的数据
}, reason => {
	console.log(reason);// 失败的错误！
});
```


